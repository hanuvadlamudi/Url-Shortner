import{u as U,r as t,g as m,j as s}from"./index-ezmrdIhR.js";import x from"./UrlShortenerUI-B8FjV9ln.js";import g from"./RecentUrls-CbM8f27B.js";const S=()=>{const{isAuthenticated:r}=U(e=>e.auth),[l,o]=t.useState([]),[i,c]=t.useState(!0),[n,a]=t.useState(null);t.useEffect(()=>{r&&d()},[r]);const d=async()=>{c(!0);try{const e=await m();e?.success?o(e.urls):a(e?.message||"Failed to fetch URLs")}catch{a("Error fetching URLs")}finally{c(!1)}},u=(e,f)=>{o(h=>[{originalUrl:f,shortUrl:e,clicks:0},...h])};return i?s.jsx("div",{children:"Loading..."}):n?s.jsx("div",{children:n}):s.jsxs("div",{children:[s.jsx(x,{onUrlAdded:u}),r&&s.jsx(g,{urls:l.slice(0,5)})]})};export{S as default};
