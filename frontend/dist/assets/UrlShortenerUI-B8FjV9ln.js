import{s as N,e as y,r as i,u as S,j as e}from"./index-ezmrdIhR.js";const c="https://tiny-route.onrender.com",b=async(l,s="")=>{const{isAuthenticated:d}=N.getState().auth;let r,n={url:l};d?s?(r=`${c}/api/create/custom`,n={url:l,slug:s}):r=`${c}/api/create/user`:r=`${c}/api/create`;const{data:a}=await y.post(r,n,{withCredentials:!0});return a},k=({onUrlAdded:l})=>{const[s,d]=i.useState(""),[r,n]=i.useState(""),[a,f]=i.useState(""),[u,h]=i.useState(!1),[x,m]=i.useState(!1),{isAuthenticated:p}=S(t=>t.auth),g=t=>d(t.target.value),w=t=>n(t.target.value),j=async t=>{t.preventDefault(),m(!0);try{let o;p&&r?o=await b(s,r):o=await b(s),o&&(f(o),typeof l=="function"&&l(o,s),d(""),n(""))}catch(o){console.error("Error creating short URL:",o)}finally{m(!1)}},v=()=>{a&&navigator.clipboard.writeText(a).then(()=>{h(!0),setTimeout(()=>h(!1),2e3)})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-900 to-slate-900 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-1/3 left-1/3 w-80 h-80 bg-indigo-500/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-2/3 left-1/2 w-72 h-72 bg-blue-500/20 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen px-4 pt-20",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("span",{className:"text-lg font-bold text-white",children:"T"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Shorten Your URLs"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Transform long URLs into short links"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl p-6",children:[e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-white/90 mb-1 block",children:"Enter URL"}),e.jsx("input",{type:"url",placeholder:"https://example.com",required:!0,value:s,onChange:g,className:"w-full px-3 py-2.5 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition-all duration-200 backdrop-blur-sm text-sm"})]}),p&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-white/90 mb-1 block",children:"Custom alias (optional)"}),e.jsx("input",{type:"text",placeholder:"my-link",value:r,onChange:w,className:"w-full px-3 py-2.5 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition-all duration-200 backdrop-blur-sm text-sm"})]}),e.jsx("button",{type:"submit",disabled:x||!s,className:"w-full py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg font-semibold hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-all duration-200 shadow-lg transform hover:scale-105 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm",children:x?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Shortening..."})]}):"Shorten URL"})]}),a&&e.jsx("div",{className:"mt-4 p-3 bg-green-500/10 border border-green-400/30 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-white/5 rounded-lg p-3",children:[e.jsx("input",{type:"text",readOnly:!0,value:a,className:"flex-1 bg-transparent border-none outline-none text-white text-sm truncate cursor-pointer",onClick:t=>t.target.select()}),e.jsx("button",{onClick:v,className:`cursor-pointer px-3 py-1.5 rounded text-xs font-medium transition-all ${u?"bg-green-500 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:u?"Copied!":"Copy"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-white/60 text-xs",children:"Fast • Free • No ads"})})]})})]})};export{k as default};
