import{r as n,j as e,g as v,u as N}from"./index-ezmrdIhR.js";const k=({name:t="User",totalUrls:s=0,totalClicks:a=0})=>{const[o,d]=n.useState(0),[c]=n.useState(76);n.useEffect(()=>{const l=()=>{d(window.scrollY)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const i=o>=c;return n.useEffect(()=>{const l=document.querySelector("header");l&&(i?(l.style.transform="translateY(-100%)",l.style.transition="transform 0.3s ease-in-out"):(l.style.transform="translateY(0)",l.style.transition="transform 0.3s ease-in-out"))},[i]),e.jsxs(e.Fragment,{children:[!i&&e.jsx("div",{className:"h-20"}),e.jsx("div",{className:`w-full transition-all duration-300 ${i?"fixed top-0 z-50":"relative z-10"}`,children:e.jsx("div",{className:"bg-gradient-to-r from-slate-800 via-slate-900 to-gray-900 text-white px-6 py-3 shadow-lg",children:e.jsxs("div",{className:"w-full max-w-4xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-lg font-bold text-white",children:t.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-semibold text-white",children:["Welcome back, ",t]}),e.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Here's your dashboard overview"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3 border border-white/20 shadow-lg min-w-[120px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-white",children:s.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-300 font-medium mt-1",children:"Total URLs"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3 border border-white/20 shadow-lg min-w-[120px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-white",children:a.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-300 font-medium mt-1",children:"Total Clicks"})]})})]})]})})})]})};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,o)=>o?o.toUpperCase():a.toLowerCase()),g=t=>{const s=C(t);return s.charAt(0).toUpperCase()+s.slice(1)},f=(...t)=>t.filter((s,a,o)=>!!s&&s.trim()!==""&&o.indexOf(s)===a).join(" ").trim(),L=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=n.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:i,...l},m)=>n.createElement("svg",{ref:m,...S,width:s,height:s,stroke:t,strokeWidth:o?Number(a)*24/Number(s):a,className:f("lucide",d),...!c&&!L(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,r])=>n.createElement(u,r)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=(t,s)=>{const a=n.forwardRef(({className:o,...d},c)=>n.createElement(E,{ref:c,iconNode:s,className:f(`lucide-${U(g(t))}`,`lucide-${t}`,o),...d}));return a.displayName=g(t),a};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],T=A("copy",R),$=({onDataFetched:t})=>{const[s,a]=n.useState([]),[o,d]=n.useState(!0),[c,i]=n.useState(null),[l,m]=n.useState(null),u=r=>{navigator.clipboard.writeText(r).then(()=>{m(r),setTimeout(()=>m(null),1500)})};return n.useEffect(()=>{let r=!0;const h=async()=>{d(!0);try{const x=await v();if(!r)return;if(x?.success){a(x.urls),i(null);const b=x.urls.length,w=x.urls.reduce((y,j)=>y+(j.clicks??0),0);t(b,w)}else a([]),i(x?.message||"Failed to fetch URLs"),t(0,0)}catch{r&&(a([]),i("Error fetching URLs"),t(0,0))}finally{r&&d(!1)}};h();const p=setInterval(h,1e4);return()=>{r=!1,clearInterval(p)}},[]),o?e.jsx("div",{className:"text-center py-20",children:"Loadingâ€¦"}):c?e.jsx("div",{className:"text-center py-20 text-red-500",children:c}):e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("h2",{className:"text-center text-4xl font-extrabold text-gray-900 mb-12 tracking-tight",children:["My Links Library",e.jsx("span",{className:"block mt-3 w-24 h-1 bg-indigo-600 mx-auto rounded"})]}),s.length===0?e.jsx("div",{className:"text-center text-gray-400 text-lg py-20 border rounded-xl",children:"No URLs found. Start shortening some!"}):e.jsx("ul",{className:"space-y-6",children:s.map((r,h)=>e.jsxs("li",{className:"flex flex-col md:flex-row md:items-center gap-4 bg-white border border-gray-200 rounded-xl shadow-sm px-6 py-5 hover:shadow-md transition",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"h-9 w-9 rounded-full bg-gray-100 text-gray-600 flex items-center justify-center font-semibold",children:h+1})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("a",{href:r.originalUrl,target:"_blank",rel:"noopener noreferrer",className:"block text-sm text-gray-700 truncate hover:underline",title:r.originalUrl,children:r.originalUrl}),e.jsx("a",{href:r.shortUrl,target:"_blank",rel:"noopener noreferrer",className:"block text-base font-medium text-indigo-600 truncate hover:underline mt-0.5",title:r.shortUrl,children:r.shortUrl})]}),e.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[e.jsxs("span",{className:"px-3 py-1 rounded-full bg-gray-100 text-gray-600 text-xs font-semibold",children:[r.clicks," ",r.clicks===1?"click":"clicks"]}),e.jsxs("button",{onClick:()=>u(r.shortUrl),className:`cursor-pointer flex items-center gap-1 border-2 rounded-md px-3 py-1.5 text-sm font-semibold transition
                    ${l===r.shortUrl?"border-green-600 bg-green-600 text-white":"border-indigo-600 text-indigo-600 hover:bg-indigo-600 hover:text-white"}`,children:[e.jsx(T,{className:"h-4 w-4"}),l===r.shortUrl?"Copied":"Copy"]})]})]},r.shortUrl))})]})};function _(){const[t,s]=n.useState(0),[a,o]=n.useState(0),d=N(i=>i.auth.user?.name||"User"),c=(i,l)=>{s(i),o(l)};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(k,{name:d,totalUrls:t,totalClicks:a}),e.jsx("main",{className:"container mx-auto py-8 px-6",children:e.jsx($,{onDataFetched:c})})]})}export{_ as default};
